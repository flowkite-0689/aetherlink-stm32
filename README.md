# 风物衡 (Fengwuheng)

## 项目简介

风物衡是一个基于STM32F103C8T6微控制器的嵌入式系统项目，结合FreeRTOS实时操作系统实现多任务管理。该项目集成了多种传感器和外设，提供了丰富的环境监测和人机交互功能。

## 功能特点

### 环境监测
- 温湿度检测：使用DHT11传感器实时监测环境温度和湿度
- 光照强度检测：通过光敏电阻检测环境光照强度
- PM2.5空气质量检测：监测空气中的细颗粒物浓度
- 运动检测：集成MPU6050六轴传感器，支持姿态识别和计步功能

### 显示与交互
- OLED显示屏：提供直观的图形化用户界面
- 横向图标菜单：便捷的功能导航系统
- 多级菜单结构：包括主菜单、设置菜单、测试菜单等
- 实时数据显示：温湿度、光照强度、PM2.5等数据实时展示

### 通信功能
- WiFi连接：通过ESP8266模块实现无线网络连接
- 串口通信：支持调试信息输出和设备控制

### 系统特性
- 多任务调度：基于FreeRTOS实现并发任务处理
- 实时时钟：内置RTC模块，提供准确的时间管理
- 按键控制：支持用户输入和菜单导航
- 蜂鸣器提示：提供声音反馈和报警功能

## 技术架构

### 硬件平台
- 主控芯片：STM32F103C8T6 (Cortex-M3内核)
- 存储容量：64KB Flash，20KB SRAM
- 外设接口：I2C、SPI、UART、ADC等

### 软件框架
- 操作系统：FreeRTOS实时操作系统
- 外设库：STM32F10x标准外设库
- 开发环境：Keil MDK
- 调试工具：J-Link仿真器

### 主要模块
1. 传感器数据采集模块
2. OLED图形显示模块
3. 菜单导航系统
4. WiFi通信模块
5. 实时时钟模块
6. 按键输入处理模块

## 目录结构

```
风物衡/
├── Libraries/          # 系统库文件（CMSIS、标准外设库）
├── User/              # 用户代码
│   ├── FreeRTOS/      # FreeRTOS源码
│   ├── Hardware/      # 硬件驱动
│   ├── System/        # 系统相关代码
│   ├── UI/            # 用户界面
│   ├── SensorData/    # 传感器数据处理
│   └── WIFI/          # WiFi通信模块
├── Project/           # 工程配置文件
└── Output/            # 编译输出文件
```

## 开发环境

- 推荐IDE：Keil MDK 5.x
- 调试工具：J-Link V9/V10
- 编译工具链：ARM-GCC或Keil ARMCC
- 最低硬件需求：STM32F103C8T6最小系统板

## 快速开始

1. 克隆项目到本地
2. 使用Keil打开项目文件
3. 连接J-Link调试器和目标板
4. 编译并下载程序到STM32F103C8T6
5. 观察OLED显示屏上的运行结果

## 应用场景

该项目适用于以下应用场景：
- 环境监测站
- 智能家居控制系统
- 物联网传感器节点
- 嵌入式教学实验平台
- 个人健康与生活监测设备